<!doctype html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>فيديو — تبرني بس</title>
    <style>
      :root{
        --bg: #0a0000;
        --card: #1a0000;
        --accent: #dc2626;
        --accent-hover: #ef4444;
        --text-primary: #ffffff;
        --text-secondary: #ff9999;
        --border: #330000;
        --shadow: rgba(220, 38, 38, 0.3);
      }
      
      *{
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      
      html, body{
        height: 100%;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif, "Noto Naskh Arabic";
        background: radial-gradient(ellipse at center, #1a0000 0%, #0a0000 100%);
        color: var(--text-primary);
        overflow-x: hidden;
      }
      
      /* خلفية متحركة */
      body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: 
          radial-gradient(circle at 20% 80%, rgba(220, 38, 38, 0.1) 0%, transparent 50%),
          radial-gradient(circle at 80% 20%, rgba(220, 38, 38, 0.05) 0%, transparent 50%);
        z-index: -1;
        animation: pulse 4s ease-in-out infinite alternate;
      }
      
      @keyframes pulse {
        0% { opacity: 0.3; }
        100% { opacity: 0.7; }
      }
      
      .wrap{
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 32px;
      }
      
      .card{
        width: 100%;
        max-width: 900px;
        background: linear-gradient(145deg, var(--card), rgba(26, 0, 0, 0.8));
        border-radius: 20px;
        padding: 32px;
        box-shadow: 
          0 25px 50px rgba(0, 0, 0, 0.8),
          0 0 0 1px var(--border),
          inset 0 1px 0 rgba(255, 255, 255, 0.05);
        border: 2px solid var(--accent);
        position: relative;
        backdrop-filter: blur(10px);
        animation: cardGlow 3s ease-in-out infinite alternate;
      }
      
      @keyframes cardGlow {
        0% { box-shadow: 0 25px 50px rgba(0, 0, 0, 0.8), 0 0 20px rgba(220, 38, 38, 0.3); }
        100% { box-shadow: 0 25px 50px rgba(0, 0, 0, 0.8), 0 0 30px rgba(220, 38, 38, 0.5); }
      }
      
      .title{
        font-size: 32px;
        margin-bottom: 24px;
        text-align: center;
        font-weight: 700;
        color: var(--accent);
        text-transform: uppercase;
        letter-spacing: 2px;
        text-shadow: 
          0 0 10px rgba(220, 38, 38, 0.5),
          0 0 20px rgba(220, 38, 38, 0.3);
        animation: titlePulse 2s ease-in-out infinite alternate;
      }
      
      @keyframes titlePulse {
        0% { text-shadow: 0 0 10px rgba(220, 38, 38, 0.5), 0 0 20px rgba(220, 38, 38, 0.3); }
        100% { text-shadow: 0 0 15px rgba(220, 38, 38, 0.8), 0 0 30px rgba(220, 38, 38, 0.5); }
      }
      
      .player{
        background: #000;
        border-radius: 16px;
        overflow: hidden;
        border: 3px solid var(--accent);
        position: relative;
        box-shadow: 
          0 10px 30px rgba(0, 0, 0, 0.5),
          inset 0 0 0 1px rgba(220, 38, 38, 0.3);
      }
      
      .player::before {
        content: '';
        position: absolute;
        top: -2px;
        left: -2px;
        right: -2px;
        bottom: -2px;
        background: linear-gradient(45deg, var(--accent), var(--accent-hover));
        border-radius: 18px;
        z-index: -1;
        animation: borderRotate 3s linear infinite;
      }
      
      @keyframes borderRotate {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
      
      video{
        width: 100%;
        height: auto;
        display: block;
        background: #000;
        border-radius: 13px;
        position: relative;
        z-index: 1;
      }
      
      .caption{
        margin-top: 20px;
        text-align: center;
        font-size: 24px;
        color: var(--text-secondary);
        font-weight: 600;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        animation: captionGlow 2.5s ease-in-out infinite alternate;
      }
      
      @keyframes captionGlow {
        0% { color: var(--text-secondary); }
        100% { color: var(--accent); }
      }
      
      .play-audio-btn{
        position: fixed;
        left: 20px;
        bottom: 20px;
        padding: 14px 20px;
        border-radius: 50px;
        border: 2px solid var(--accent);
        background: linear-gradient(145deg, var(--accent), var(--accent-hover));
        color: white;
        font-weight: 700;
        font-size: 14px;
        cursor: pointer;
        box-shadow: 
          0 8px 25px rgba(220, 38, 38, 0.4),
          inset 0 1px 0 rgba(255, 255, 255, 0.2);
        transition: all 0.3s ease;
        text-transform: uppercase;
        letter-spacing: 1px;
      }
      
      .play-audio-btn:hover {
        background: linear-gradient(145deg, var(--accent-hover), var(--accent));
        transform: translateY(-2px);
        box-shadow: 
          0 12px 35px rgba(220, 38, 38, 0.6),
          inset 0 1px 0 rgba(255, 255, 255, 0.3);
      }
      
      .play-audio-btn:active {
        transform: translateY(0px);
      }
      
      /* تحسينات للشاشات الصغيرة */
      @media (max-width: 768px){
        .card{
          padding: 20px;
          margin: 16px;
        }
        .title{
          font-size: 24px;
          letter-spacing: 1px;
        }
        .caption{
          font-size: 18px;
        }
        .play-audio-btn{
          display: none;
        }
      }
      
      @media (max-width: 480px){
        .wrap{
          padding: 16px;
        }
        .card{
          padding: 16px;
        }
        .title{
          font-size: 20px;
        }
        .caption{
          font-size: 16px;
        }
      }
    </style>
  </head>
  <body>
    <div class="wrap">
      <div class="card" role="main">
        <div class="title">RedHack</div>

        <div class="player" aria-label="مشغل الفيديو">
          <video autoplay muted playsinline loop preload="metadata">
            <source src="https://images-ext-1.discordapp.net/external/_As5jDLJQpyLVduEPC-lTKCL-V0pY80md2n30LcXUqY/https/media.tenor.com/VrzXhtoSwcsAAAPo/hacker-typing.mp4" type="video/mp4">
            متصفحك لا يدعم عنصر الفيديو. افتح الرابط مباشرة: 
            <a href="https://images-ext-1.discordapp.net/external/_As5jDLJQpyLVduEPC-lTKCL-V0pY80md2n30LcXUqY/https/media.tenor.com/VrzXhtoSwcsAAAPo/hacker-typing.mp4" target="_blank" rel="noopener" style="color: var(--accent);">تحميل/فتح الفيديو</a>
          </video>
        </div>

        <div class="caption">تبرني بس</div>

      </div>
    </div>

    <!-- Background audio -->
    <audio id="bgAudio" src="M12.mp3" preload="auto" loop></audio>

    <script>
      // مزامنة تشغيل الصوت والفيديو تلقائياً قدر الإمكان
      const audio = document.getElementById('bgAudio');
      const video = document.querySelector('video');
      
      audio.loop = true;
      audio.preload = 'auto';
      audio.volume = 0.8;
      video.muted = true;

      function playBoth() {
        try { 
          video.currentTime = 0; 
          audio.currentTime = 0;
        } catch(e) {
          console.warn('Could not reset media time:', e);
        }
        
        // تشغيل كلا الوسيطين مع المزامنة
        Promise.all([video.play(), audio.play()])
          .then(() => {
            try { 
              video.muted = false; 
              console.log('Media playing successfully');
            } catch(e) {
              console.warn('Could not unmute video:', e);
            }
          })
          .catch((err) => {
            console.warn('Autoplay blocked or failed:', err);
          });
      }

      // محاولة التشغيل التلقائي
      audio.play().then(() => {
        try { 
          video.currentTime = 0; 
          video.play().then(() => {
            video.muted = false;
          }).catch(() => {
            console.warn('Video autoplay failed');
          });
        } catch(e) {
          console.warn('Video control failed:', e);
        }
      }).catch(() => {
        // إنشاء زر للتشغيل اليدوي
        const btn = document.createElement('button');
        btn.className = 'play-audio-btn';
        btn.innerHTML = '▶ تشغيل الصوت والمزامنة';
        btn.onclick = () => {
          playBoth();
          btn.remove();
        };
        document.body.appendChild(btn);

        // التشغيل عند أول تفاعل
        const onFirstInteract = () => { 
          playBoth(); 
          document.removeEventListener('click', onFirstInteract); 
        };
        document.addEventListener('click', onFirstInteract);
      });

      // مزامنة إضافية للوسائط
      video.addEventListener('loadeddata', () => {
        if (!audio.paused && !video.paused) {
          const timeDiff = Math.abs(video.currentTime - audio.currentTime);
          if (timeDiff > 0.1) {
            try {
              video.currentTime = audio.currentTime;
            } catch(e) {
              console.warn('Sync adjustment failed:', e);
            }
          }
        }
      });
    </script>
  </body>
</html>
